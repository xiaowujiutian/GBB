# 微信小程序端开发步骤

## 1. 环境准备
- 安装微信开发者工具，配置项目基本信息
- 初始化项目目录结构，建议参考开发方案文档
- 配置 Vant Weapp 组件库，完善 app.json、project.config.json

## 2. 需求梳理与页面规划
- 阅读后端接口文档，明确各核心功能模块
- 规划页面结构：index、package-detail、booking、order-list、order-detail、payment、search、profile

## 3. 页面开发流程

### 3.1 首页/套餐列表（index）
- 调用 GET /packages 接口，展示所有激活套餐
- 实现套餐筛选、价格排序功能
- 点击套餐卡片跳转至套餐详情页

### 3.2 套餐详情（package-detail）
- 调用 GET /packages/:id 获取套餐详细信息
- 展示套餐特色、价格、服务内容
- 跳转预约时间选择页

### 3.3 预约时间选择（booking）
- 调用 GET /time-slots/available?date=xxx 查询可用时间槽
- 日期选择器+时间段选择
- 填写客户信息，提交订单（POST /orders）

### 3.4 我的订单列表（order-list）
- 调用 GET /orders/user/:userId 获取当前用户订单
- 支持订单状态筛选、分页加载

### 3.5 订单详情（order-detail）
- 调用 GET /orders/:id 获取订单详情
- 展示订单状态、预约时间、支付状态
- 跳转支付页面或取消订单

### 3.6 支付页面（payment）
- 调用 POST /payments 创建支付记录
- 集成 wx.requestPayment 完成微信支付
- 支付结果处理，同步订单状态

### 3.7 查找功能（search）
- 支持手机号/昵称查找用户和订单（GET /search/users, /search/orders）
- 展示查找结果，支持分页

### 3.8 用户中心（profile）
- 微信授权登录（wx.login + wx.getUserProfile）
- 展示和编辑个人信息
- 查看历史订单

## 4. API服务层开发
- 在 /utils/api.js 封装所有后端接口请求
- 统一处理 token、错误提示、loading 状态

## 5. 性能与体验优化
- 页面分包加载，减少首屏体积
- 图片懒加载，提升列表性能
- 本地缓存用户信息和订单列表
- 统一错误处理与提示

## 6. 测试与调试
- 使用微信开发者工具进行真机调试
- 编写关键流程的测试用例，确保预约、支付、查找等功能稳定

## 7. 部署与上线
- 配置小程序 appid，完善项目配置
- 提交代码审核，完成上线流程

---

如需具体页面/组件代码示例，可进一步指定需求。
