####  ç«¯å£3000è¢«å æœ‰çš„è§£å†³åŠæ³•
1ã€é¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è¿›ç¨‹åœ¨ä½¿ç”¨3000ç«¯å£ï¼š
lsof -i :3000 || netstat -tlnp | grep :3000

å‘½ä»¤æ˜¾ç¤ºï¼š
liyong@dely:~/gbb/server/baby-photo-backend$ lsof -i :3000 || netstat -tlnp | grep :3000
COMMAND     PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
node    3797128 liyong   31u  IPv6 37674523      0t0  TCP *:3000 (LISTEN)

æœ‰ä¸€ä¸ªnodeè¿›ç¨‹æ­£åœ¨å ç”¨3000ç«¯å£ã€‚è®©æˆ‘ä»¬åœæ­¢å®ƒï¼š
åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼š
kill -9 3797128


ç°åœ¨å†æ¬¡æ£€æŸ¥ç«¯å£æ˜¯å¦é‡Šæ”¾ï¼š

lsof -i :3000
æ²¡æ˜¾ç¤ºä»£è¡¨ç«¯å£3000è¢«é‡Šæ”¾

ç°åœ¨è®©æˆ‘ä»¬é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚é¦–å…ˆç¡®ä¿æˆ‘ä»¬åœ¨æ­£ç¡®çš„ç›®å½•ï¼š
pwd

è®©æˆ‘å…ˆæ£€æŸ¥å½“å‰ç›®å½•ç»“æ„ï¼š
ls -la

### æˆåŠŸå¯åŠ¨æœåŠ¡å™¨
åœ¨ `/home/liyong/gbb/server/baby-photo-backend` ç›®å½•æ‰§è¡Œï¼š
```bash
pnpm run start:dev
```

#### ç°åœ¨è®©æˆ‘é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨ä»¥åº”ç”¨ä¿®å¤
pkill -f "nest start"

pnpm run start:dev
####  Swagger UI ä½¿ç”¨æŒ‡å—
æœåŠ¡å™¨å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š
- ğŸš€ ä¹–å®å®å„¿ç«¥å½±æ¥¼ç®¡ç†ç³»ç»Ÿå¯åŠ¨æˆåŠŸ!
- ğŸŒ æœåŠ¡åœ°å€: http://localhost:3000
- ğŸ“š API æ–‡æ¡£: http://localhost:3000/api/docs
- ğŸ¥ å¥åº·æ£€æŸ¥: http://localhost:3000/api/v1/health

### å¥åº·æ£€æŸ¥éªŒè¯
è®¿é—® `http://localhost:3000/api/v1/health` è¿”å›ï¼š
```json
{
  "status": "ok",
  "message": "ç³»ç»Ÿè¿è¡Œæ­£å¸¸",
  "timestamp": "2025-07-25T04:56:24.108Z",
  "uptime": "1652ç§’",
  "version": "1.0.0",
  "environment": "development",
  "services": {
    "database": "connected",
    "redis": "connected"
  }
}
```
####
## API æ¥å£æµ‹è¯•æŒ‡å—


### 1. ä½¿ç”¨ Swagger UI è¿›è¡Œæ¥å£æµ‹è¯•

è®¿é—® `http://localhost:3000/api/docs` å¯ä»¥çœ‹åˆ°å®Œæ•´çš„ API æ–‡æ¡£ç•Œé¢ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

#### ğŸ“‹ ä¸»è¦æ¨¡å—æ¥å£
- **ç³»ç»Ÿä¿¡æ¯** - ç³»ç»Ÿå¥åº·æ£€æŸ¥ã€ç‰ˆæœ¬ä¿¡æ¯
- **ç”¨æˆ·ç®¡ç†** (users) - ç”¨æˆ·å¢åˆ æ”¹æŸ¥
- **å¥—é¤ç®¡ç†** (packages) - å¥—é¤å¢åˆ æ”¹æŸ¥  
- **è®¢å•ç®¡ç†** (orders) - è®¢å•å¢åˆ æ”¹æŸ¥
- **æ”¯ä»˜ç®¡ç†** (payments) - æ”¯ä»˜è®°å½•ç®¡ç†
- #### 3. åˆ›å»ºæ—¶é—´æ§½
æ‰¾åˆ° **time-slots** â†’ **POST /api/v1/time-slots**ï¼Œä½¿ç”¨ä»¥ä¸‹æ•°æ®ï¼š
```json
{
  "date": "2025-08-15",
  "startTime": "10:00:00",
  "endTime": "12:00:00"
}
```

#### ğŸ§ª æµ‹è¯•æ­¥éª¤
1. **æ‰“å¼€æ¥å£æ–‡æ¡£**: åœ¨æµè§ˆå™¨è®¿é—® `http://localhost:3000/api/docs`
2. **é€‰æ‹©è¦æµ‹è¯•çš„æ¥å£**: ç‚¹å‡»å¯¹åº”æ¨¡å—å±•å¼€æ¥å£åˆ—è¡¨
3. **ç‚¹å‡» "Try it out" æŒ‰é’®**: è¿›å…¥æµ‹è¯•æ¨¡å¼
4. **å¡«å†™è¯·æ±‚å‚æ•°**: 
   - è·¯å¾„å‚æ•° (Path Parameters)
   - æŸ¥è¯¢å‚æ•° (Query Parameters) 
   - è¯·æ±‚ä½“ (Request Body)
5. **ç‚¹å‡» "Execute" æŒ‰é’®**: å‘é€è¯·æ±‚
6. **æŸ¥çœ‹å“åº”ç»“æœ**: 
   - Response Code (çŠ¶æ€ç )
   - Response Body (å“åº”å†…å®¹)
   - Response Headers (å“åº”å¤´)

### 2. å¸¸ç”¨æ¥å£æµ‹è¯•ç¤ºä¾‹

#### 2.1 æµ‹è¯•ç³»ç»Ÿæ¥å£
```bash
# å¥åº·æ£€æŸ¥
GET http://localhost:3000/api/v1/health

# ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯
GET http://localhost:3000/api/v1/version

# ç³»ç»Ÿæ¬¢è¿ä¿¡æ¯
GET http://localhost:3000/api/v1
```

#### 2.2 æµ‹è¯•ç”¨æˆ·æ¥å£
```bash
# è·å–æ‰€æœ‰ç”¨æˆ·
GET http://localhost:3000/api/v1/users

# åˆ›å»ºç”¨æˆ·
POST http://localhost:3000/api/v1/users
Content-Type: application/json
{
  "openid": "test_openid_123",
  "nickname": "æµ‹è¯•ç”¨æˆ·",
  "avatar": "https://example.com/avatar.jpg",
  "phone": "13800138000"
}

# è·å–å•ä¸ªç”¨æˆ·
GET http://localhost:3000/api/v1/users/1
```

#### 2.3 æµ‹è¯•å¥—é¤æ¥å£
```bash
# è·å–æ‰€æœ‰å¥—é¤
GET http://localhost:3000/api/v1/packages

# åˆ›å»ºå¥—é¤
POST http://localhost:3000/api/v1/packages
Content-Type: application/json
**åˆ›å»ºå¥—é¤**ï¼š
```json
{
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "åŒ…å«äº²å­ç…§ç‰‡æ‹æ‘„ã€ç²¾ä¿®ç…§ç‰‡ç­‰æœåŠ¡",
  "price": 899.00,
  "deposit": 200.00,
  "durationMinutes": 120,
  "includes": [
    "ä¸“ä¸šæ‘„å½±å¸ˆæ‹æ‘„",
    "30å¼ ç²¾ä¿®ç…§ç‰‡",
    "10å¼ ç›¸å†Œè£…è®¢",
    "åŒ–å¦†é€ å‹æœåŠ¡",
    "æœè£…é“å…·æä¾›"
  ]
}
```

### å¸¸è§æ¥å£æµ‹è¯•é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

#### 1. å¥—é¤åˆ›å»ºæ¥å£éªŒè¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": [
    "property originalPrice should not exist",
    "property duration should not exist", 
    "property photoCount should not exist",
    "property isActive should not exist",
    "deposit must not be less than 0",
    "deposit must be a number conforming to the specified constraints",
    "durationMinutes must not be less than 15",
    "durationMinutes must be a number conforming to the specified constraints",
    "each value in includes must be a string",
    "includes must be an array"
  ],
  "error": "Bad Request",
  "statusCode": 400
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- âŒ é”™è¯¯çš„å­—æ®µåï¼š`originalPrice`, `duration`, `photoCount`, `isActive`
- âœ… æ­£ç¡®çš„å­—æ®µåï¼š`price`, `deposit`, `durationMinutes`, `includes`
- âœ… `deposit` å¿…é¡»æ˜¯æ•°å­—ä¸” â‰¥ 0
- âœ… `durationMinutes` å¿…é¡»æ˜¯æ•°å­—ä¸” â‰¥ 15 åˆ†é’Ÿ
- âœ… `includes` å¿…é¡»æ˜¯å­—ç¬¦ä¸²æ•°ç»„

**æ­£ç¡®çš„åˆ›å»ºå¥—é¤æ•°æ®**ï¼š
```json
{
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "åŒ…å«äº²å­ç…§ç‰‡æ‹æ‘„ã€ç²¾ä¿®ç…§ç‰‡ç­‰æœåŠ¡", 
  "price": 899,
  "deposit": 200,
  "durationMinutes": 120,
  "includes": ["ä¸“ä¸šæ‘„å½±å¸ˆæ‹æ‘„", "30å¼ ç²¾ä¿®ç…§ç‰‡", "åŒ–å¦†é€ å‹æœåŠ¡"]
}
```
```

### 3. ä½¿ç”¨å…¶ä»–å·¥å…·æµ‹è¯•

#### 3.1 ä½¿ç”¨ curl å‘½ä»¤
```bash
# å¥åº·æ£€æŸ¥
curl -X GET http://localhost:3000/api/v1/health

# åˆ›å»ºç”¨æˆ·
curl -X POST http://localhost:3000/api/v1/users \
  -H "Content-Type: application/json" \
  -d '{
    "openid": "test_openid_123",
    "nickname": "æµ‹è¯•ç”¨æˆ·",
    "phone": "13800138000"
  }'
```

#### 3.2 ä½¿ç”¨ Postman
1. å¯¼å…¥ API æ–‡æ¡£ï¼šåœ¨ Postman ä¸­é€‰æ‹© "Import" > "Link"
2. è¾“å…¥ `http://localhost:3000/api/docs-json` å¯¼å…¥ OpenAPI è§„èŒƒ
3. è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰æ¥å£çš„è¯·æ±‚æ¨¡æ¿
4. é€ä¸ªæµ‹è¯•å„æ¥å£åŠŸèƒ½

#### 3.3 ä½¿ç”¨ VS Code REST Client
å®‰è£… REST Client æ‰©å±•ï¼Œåˆ›å»º `.http` æ–‡ä»¶ï¼š
```http
### å¥åº·æ£€æŸ¥
GET http://localhost:3000/api/v1/health

### åˆ›å»ºç”¨æˆ·
POST http://localhost:3000/api/v1/users
Content-Type: application/json

{
  "openid": "test_openid_123",
  "nickname": "æµ‹è¯•ç”¨æˆ·",
  "phone": "13800138000"
}

### è·å–æ‰€æœ‰å¥—é¤
GET http://localhost:3000/api/v1/packages
```

### 4. å¸¸è§æµ‹è¯•åœºæ™¯

#### 4.1 æ•°æ®éªŒè¯æµ‹è¯•
- æµ‹è¯•å¿…å¡«å­—æ®µç¼ºå¤±çš„æƒ…å†µ
- æµ‹è¯•æ•°æ®æ ¼å¼é”™è¯¯çš„æƒ…å†µ
- æµ‹è¯•æ•°æ®é•¿åº¦è¶…é™çš„æƒ…å†µ

#### 4.2 ä¸šåŠ¡æµç¨‹æµ‹è¯•
1. åˆ›å»ºç”¨æˆ· â†’ åˆ›å»ºå¥—é¤ â†’ åˆ›å»ºè®¢å• â†’ åˆ›å»ºæ”¯ä»˜
2. æŸ¥è¯¢ç”¨æˆ·çš„æ‰€æœ‰è®¢å•
3. æŸ¥è¯¢è®¢å•çš„æ”¯ä»˜è®°å½•
4. æ›´æ–°è®¢å•çŠ¶æ€

#### 4.3 é”™è¯¯å¤„ç†æµ‹è¯•
- è®¿é—®ä¸å­˜åœ¨çš„èµ„æº (404)
- å‘é€æ— æ•ˆçš„è¯·æ±‚æ•°æ® (400)
- æµ‹è¯•æœåŠ¡å™¨å†…éƒ¨é”™è¯¯å¤„ç† (500)

å½“æ‚¨æµ‹è¯•åˆ›å»ºæ¥å£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¤ºä¾‹æ•°æ®ï¼š

**åˆ›å»ºç”¨æˆ·**ï¼š
```json
{
  "openid": "test_openid_001",
  "nickname": "å°å®è´å¦ˆå¦ˆ",
  "avatar": "https://example.com/avatar.jpg",
  "phone": "13800138000"
}
```

**åˆ›å»ºå¥—é¤**ï¼š
```json
{
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "åŒ…å«äº²å­ç…§ç‰‡æ‹æ‘„ã€ç²¾ä¿®ç…§ç‰‡ç­‰æœåŠ¡",
  "price": 899,
  "deposit": 200,
  "durationMinutes": 120,
  "includes": [
    "ä¸“ä¸šæ‘„å½±å¸ˆæ‹æ‘„",
    "30å¼ ç²¾ä¿®ç…§ç‰‡",
    "10å¼ ç›¸å†Œè£…è®¢",
    "åŒ–å¦†é€ å‹æœåŠ¡",
    "æœè£…é“å…·æä¾›"
  ]
}
```

**åˆ›å»ºè®¢å•**ï¼š
```json
{
  "userId": 1,
  "packageId": 1,
  "timeSlotId": 1,
  "appointmentDate": "2025-08-15T10:00:00Z",
  "notes": "å¸Œæœ›æ‹æ‘„æ¸©é¦¨çš„äº²å­ç…§ç‰‡",
  "childrenCount": 1
}
```

**åˆ›å»ºæ”¯ä»˜**ï¼š
```json
{
  "orderId": "bbc409ff-ef50-493c-b64d-b147c58cea6a",
  "paymentType": "DEPOSIT",
  "amount": 200.00
}
```
**æ³¨æ„**ï¼š`orderId` å¿…é¡»ä½¿ç”¨åˆ›å»ºè®¢å•æ—¶è¿”å›çš„å®Œæ•´UUIDï¼Œä¸æ˜¯æ•°å­—1ã€‚

**åˆ›å»ºæ—¶é—´æ§½**ï¼š
```json
**åˆ›å»ºæ—¶é—´æ§½**ï¼š
```json
{
  "date": "2025-08-15",
  "startTime": "10:00:00",
  "endTime": "12:00:00"
}
```

### å¸¸è§æ¥å£æµ‹è¯•é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

#### 1. å¥—é¤åˆ›å»ºæ¥å£éªŒè¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": [
    "property originalPrice should not exist",
    "property duration should not exist", 
    "property photoCount should not exist",
    "property isActive should not exist",
    "deposit must not be less than 0",
    "deposit must be a number conforming to the specified constraints",
    "durationMinutes must not be less than 15",
    "durationMinutes must be a number conforming to the specified constraints",
    "each value in includes must be a string",
    "includes must be an array"
  ],
  "error": "Bad Request",
  "statusCode": 400
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- âŒ é”™è¯¯çš„å­—æ®µåï¼š`originalPrice`, `duration`, `photoCount`, `isActive`
- âœ… æ­£ç¡®çš„å­—æ®µåï¼š`price`, `deposit`, `durationMinutes`, `includes`
- âœ… `deposit` å¿…é¡»æ˜¯æ•°å­—ä¸” â‰¥ 0
- âœ… `durationMinutes` å¿…é¡»æ˜¯æ•°å­—ä¸” â‰¥ 15 åˆ†é’Ÿ
- âœ… `includes` å¿…é¡»æ˜¯å­—ç¬¦ä¸²æ•°ç»„

**æ­£ç¡®çš„åˆ›å»ºå¥—é¤æ•°æ®**ï¼š
```json
{
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "åŒ…å«äº²å­ç…§ç‰‡æ‹æ‘„ã€ç²¾ä¿®ç…§ç‰‡ç­‰æœåŠ¡", 
  "price": 899,
  "deposit": 200,
  "durationMinutes": 120,
  "includes": ["ä¸“ä¸šæ‘„å½±å¸ˆæ‹æ‘„", "30å¼ ç²¾ä¿®ç…§ç‰‡", "åŒ–å¦†é€ å‹æœåŠ¡"]
}
```

#### 2. æ—¶é—´æ§½åˆ›å»ºæ¥å£éªŒè¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": [
    "property isAvailable should not exist",
    "property maxBookings should not exist",
    "å¼€å§‹æ—¶é—´æ ¼å¼å¿…é¡»ä¸º HH:MM:SS",
    "ç»“æŸæ—¶é—´æ ¼å¼å¿…é¡»ä¸º HH:MM:SS"
  ],
  "error": "Bad Request",
  "statusCode": 400
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- âŒ é”™è¯¯çš„å­—æ®µï¼š`isAvailable`, `maxBookings`ï¼ˆè¿™äº›å­—æ®µä¸å­˜åœ¨äº CreateTimeSlotDto ä¸­ï¼‰
- âŒ é”™è¯¯çš„æ—¶é—´æ ¼å¼ï¼š`"10:00"`, `"12:00"`
- âœ… æ­£ç¡®çš„æ—¶é—´æ ¼å¼ï¼š`"10:00:00"`, `"12:00:00"`ï¼ˆå¿…é¡»åŒ…å«ç§’æ•°ï¼‰
- âœ… åªéœ€è¦ä¸‰ä¸ªå­—æ®µï¼š`date`, `startTime`, `endTime`

**æ­£ç¡®çš„åˆ›å»ºæ—¶é—´æ§½æ•°æ®**ï¼š
```json
{
  "date": "2024-08-15",
  "startTime": "10:00:00",
  "endTime": "12:00:00"
}
```

#### 3. æ—¶é—´æ§½æ—¥æœŸéªŒè¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": "Date cannot be in the past",
  "error": "Bad Request",
  "statusCode": 400
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- âŒ é—®é¢˜ï¼šä½¿ç”¨äº†è¿‡å»çš„æ—¥æœŸï¼ˆå¦‚ `2024-08-15`ï¼‰
- âœ… è§£å†³ï¼šä½¿ç”¨æœªæ¥çš„æ—¥æœŸï¼ˆå½“å‰æ—¥æœŸæ˜¯ 2025-07-25ï¼‰

**æ­£ç¡®çš„åˆ›å»ºæ—¶é—´æ§½æ•°æ®ï¼ˆä½¿ç”¨æœªæ¥æ—¥æœŸï¼‰**ï¼š
```json
{
  "date": "2025-08-15",
  "startTime": "09:00:00",
  "endTime": "11:00:00"
}
```

æˆ–è€…ä½¿ç”¨ä»Šå¤©ä¹‹åçš„æ—¥æœŸï¼š
```json
{
  "date": "2025-07-26",
  "startTime": "10:00:00", 
  "endTime": "12:00:00"
}
```

#### 4. æ”¯ä»˜åˆ›å»ºæ¥å£è®¢å•IDé”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": "Order with id 1 not found",
  "error": "Not Found",
  "statusCode": 404
}
```

**é—®é¢˜åˆ†æ**ï¼š
- âŒ é—®é¢˜ï¼šä½¿ç”¨äº†é”™è¯¯çš„è®¢å•IDï¼ˆå¦‚ `"1"`ï¼‰
- è®¢å•å®é™…IDæ˜¯UUIDæ ¼å¼ï¼š`"bbc409ff-ef50-493c-b64d-b147c58cea6a"`
- æ”¯ä»˜æ¥å£çš„ `orderId` å­—æ®µå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„å®é™…è®¢å•ID

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **å¤åˆ¶çœŸå®çš„è®¢å•ID**ï¼šä»åˆ›å»ºè®¢å•çš„å“åº”ä¸­å¤åˆ¶å®Œæ•´çš„UUID
2. **ä½¿ç”¨æ­£ç¡®çš„è®¢å•IDæ ¼å¼**ï¼šå®Œæ•´çš„UUIDå­—ç¬¦ä¸²

**æ­£ç¡®çš„åˆ›å»ºæ”¯ä»˜æ•°æ®**ï¼š
```json
{
  "orderId": "bbc409ff-ef50-493c-b64d-b147c58cea6a",
  "paymentType": "DEPOSIT",
  "amount": 200.00
}
```

**æµ‹è¯•æµç¨‹å»ºè®®**ï¼š
1. åˆ›å»ºè®¢å•åï¼Œè®°å½•è¿”å›çš„å®Œæ•´è®¢å•IDï¼ˆUUIDæ ¼å¼ï¼‰
2. åœ¨åˆ›å»ºæ”¯ä»˜æ—¶ï¼Œä½¿ç”¨è¿™ä¸ªå®Œæ•´çš„UUIDä½œä¸º `orderId`
3. ç¡®ä¿ `amount` ä¸è®¢å•çš„ `depositAmount` ä¸€è‡´

#### 5. æ ¹æ®IDæŸ¥æ‰¾ç”¨æˆ·æ¥å£é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "message": "User with openid 1 not found",
  "error": "Not Found",
  "statusCode": 404
}
```

**é—®é¢˜åˆ†æ**ï¼š
- âŒ é—®é¢˜ï¼šæ§åˆ¶å™¨æ–¹æ³• `findOne` é”™è¯¯åœ°è°ƒç”¨äº† `findByOpenid()` æ–¹æ³•
- æ•°å­—ID `1` è¢«å½“ä½œ `openid` å­—ç¬¦ä¸²æ¥æŸ¥è¯¢ï¼Œå¯¼è‡´æŸ¥æ‰¾å¤±è´¥
- åº”è¯¥æ ¹æ®æ•°å­—IDæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯æ ¹æ®openidæŸ¥è¯¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
ä¿®æ”¹ `src/modules/users/users.controller.ts` æ–‡ä»¶ä¸­çš„ `findOne` æ–¹æ³•ï¼š

```typescript
// é”™è¯¯çš„ä»£ç 
@Get(':id')
findOne(@Param('id', ParseIntPipe) id: number) {
  return this.usersService.findByOpenid(id.toString()); // âŒ é”™è¯¯
}

// æ­£ç¡®çš„ä»£ç 
@Get(':id')
findOne(@Param('id', ParseIntPipe) id: number) {
  return this.usersService.findOne(id); // âœ… æ­£ç¡®
}
```

**ä¿®å¤åçš„æµ‹è¯•**ï¼š
- è®¿é—® `GET /api/v1/users/1` åº”è¯¥æ­£å¸¸è¿”å›ç”¨æˆ·ä¿¡æ¯
- ç¡®ä¿ä½¿ç”¨æ•°å­—IDè€Œä¸æ˜¯openidè¿›è¡ŒæŸ¥è¯¢
```

è¿™æ ·æ‚¨å°±å¯ä»¥å…¨é¢æµ‹è¯•ä¹–å®å®å„¿ç«¥å½±æ¥¼ç®¡ç†ç³»ç»Ÿçš„å„ä¸ªæ¥å£åŠŸèƒ½äº†ï¼ğŸš€