# ğŸ“¦ å¥—é¤æ¨¡å—åŠŸèƒ½è¯´æ˜æ–‡æ¡£

## ç›®å½•
- [æ¨¡å—æ¦‚è¿°](#æ¨¡å—æ¦‚è¿°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [API æ¥å£è¯¦æƒ…](#api-æ¥å£è¯¦æƒ…)
- [API æµ‹è¯•å‚æ•°ç¤ºä¾‹](#api-æµ‹è¯•å‚æ•°ç¤ºä¾‹)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [ä¸šåŠ¡é€»è¾‘](#ä¸šåŠ¡é€»è¾‘)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [è¿è¥ç®¡ç†](#è¿è¥ç®¡ç†)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¨¡å—æ¦‚è¿°

### ğŸ¯ åŠŸèƒ½å®šä½
å¥—é¤æ¨¡å—æ˜¯å©´å„¿æ‘„å½±å·¥ä½œå®¤çš„æ ¸å¿ƒä¸šåŠ¡æ¨¡å—ï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰æ‘„å½±æœåŠ¡å¥—é¤çš„ä¿¡æ¯ã€‚è¯¥æ¨¡å—å®šä¹‰äº†ä¸åŒç±»å‹çš„æ‘„å½±æœåŠ¡ï¼ŒåŒ…æ‹¬ä»·æ ¼ã€æ—¶é•¿ã€åŒ…å«å†…å®¹ç­‰å…³é”®ä¸šåŠ¡ä¿¡æ¯ï¼Œä¸ºæ•´ä¸ªé¢„çº¦å’Œè®¢å•ç³»ç»Ÿæä¾›å•†å“åŸºç¡€æ•°æ®æ”¯æŒã€‚

### ğŸš€ ä¸»è¦ç‰¹æ€§
- **å®Œæ•´çš„å¥—é¤ç®¡ç†**: åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤å¥—é¤ä¿¡æ¯
- **çµæ´»çš„å®šä»·ç­–ç•¥**: æ”¯æŒä¸åŒä»·æ ¼ä½“ç³»å’Œä¿ƒé”€æ´»åŠ¨
- **è¯¦ç»†çš„æœåŠ¡æè¿°**: åŒ…å«å¥—é¤å†…å®¹ã€æ—¶é•¿ã€ç‰¹è‰²ç­‰è¯¦ç»†ä¿¡æ¯
- **çŠ¶æ€ç®¡ç†**: æ”¯æŒå¥—é¤ä¸Šæ¶ã€ä¸‹æ¶ç­‰çŠ¶æ€æ§åˆ¶
- **RESTful API**: æ ‡å‡†åŒ–çš„APIæ¥å£è®¾è®¡
- **å®Œæ•´çš„æ–‡æ¡£**: åŸºäºSwaggerçš„APIæ–‡æ¡£æ”¯æŒ

### ğŸ“Š ä¸šåŠ¡ä»·å€¼
- ç»Ÿä¸€ç®¡ç†æ‘„å½±æœåŠ¡äº§å“çº¿
- æ”¯æŒçµæ´»çš„å®šä»·å’Œä¿ƒé”€ç­–ç•¥
- ä¸ºå®¢æˆ·æä¾›æ¸…æ™°çš„æœåŠ¡é€‰æ‹©
- æ”¯æŒæ•°æ®åˆ†æå’Œä¸šåŠ¡å†³ç­–
- ä¾¿äºè¿è¥å›¢é˜Ÿè¿›è¡Œäº§å“ç®¡ç†

---

## ç³»ç»Ÿæ¶æ„

### ğŸ—ï¸ æ¨¡å—ç»“æ„
```
src/modules/packages/
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ create-package.dto.ts    # åˆ›å»ºå¥—é¤DTO
â”‚   â””â”€â”€ update-package.dto.ts    # æ›´æ–°å¥—é¤DTO
â”œâ”€â”€ packages.controller.ts       # å¥—é¤æ§åˆ¶å™¨
â”œâ”€â”€ packages.service.ts          # å¥—é¤æœåŠ¡
â””â”€â”€ packages.module.ts           # å¥—é¤æ¨¡å—
```

### ğŸ”„ æ¶æ„å±‚æ¬¡
1. **æ§åˆ¶å™¨å±‚**: å¤„ç†HTTPè¯·æ±‚ï¼Œå‚æ•°éªŒè¯ï¼Œå“åº”æ ¼å¼åŒ–
2. **æœåŠ¡å±‚**: ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæ•°æ®éªŒè¯ï¼ŒçŠ¶æ€ç®¡ç†
3. **æ•°æ®è®¿é—®å±‚**: é€šè¿‡Prismaè¿›è¡Œæ•°æ®åº“æ“ä½œ
4. **DTOå±‚**: æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œç¡®ä¿ç±»å‹å®‰å…¨å’ŒéªŒè¯

### ğŸ”— ä¾èµ–å…³ç³»
- **PrismaModule**: æ•°æ®åº“è®¿é—®æœåŠ¡
- **class-validator**: æ•°æ®éªŒè¯åº“
- **@nestjs/swagger**: APIæ–‡æ¡£ç”Ÿæˆ
- **@nestjs/common**: NestJSæ ¸å¿ƒè£…é¥°å™¨

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¥—é¤åˆ›å»º
**åŠŸèƒ½æè¿°**: åˆ›å»ºæ–°çš„æ‘„å½±å¥—é¤ï¼Œå®šä¹‰æœåŠ¡å†…å®¹å’Œä»·æ ¼
- åŸºæœ¬ä¿¡æ¯è®¾ç½®ï¼ˆåç§°ã€æè¿°ã€ä»·æ ¼ï¼‰
- æœåŠ¡æ—¶é•¿å’Œå†…å®¹å®šä¹‰
- é»˜è®¤çŠ¶æ€å’Œæ’åºè®¾ç½®
- æ•°æ®éªŒè¯å’Œå¼‚å¸¸å¤„ç†

### 2. å¥—é¤æŸ¥è¯¢
**å…¨é‡æŸ¥è¯¢**: è·å–æ‰€æœ‰å¥—é¤åˆ—è¡¨ï¼Œæ”¯æŒå‰å°å±•ç¤ºå’Œåå°ç®¡ç†
**å•ä¸ªæŸ¥è¯¢**: æ ¹æ®å¥—é¤IDè·å–è¯¦ç»†ä¿¡æ¯
**çŠ¶æ€è¿‡æ»¤**: å¯æ‰©å±•æ”¯æŒæŒ‰çŠ¶æ€æŸ¥è¯¢ï¼ˆå¦‚åªæŸ¥è¯¢ä¸Šæ¶å¥—é¤ï¼‰
**å…³è”æŸ¥è¯¢**: å¯æŸ¥è¯¢å¥—é¤çš„è®¢å•å†å²å’Œé”€å”®æ•°æ®

### 3. å¥—é¤æ›´æ–°
**éƒ¨åˆ†æ›´æ–°**: æ”¯æŒæ›´æ–°å¥—é¤çš„ä»»æ„å­—æ®µ
**çŠ¶æ€ç®¡ç†**: æ”¯æŒä¸Šæ¶ã€ä¸‹æ¶ç­‰çŠ¶æ€å˜æ›´
**ä»·æ ¼è°ƒæ•´**: æ”¯æŒä»·æ ¼å’Œä¿ƒé”€ä¿¡æ¯æ›´æ–°
**å†…å®¹ç»´æŠ¤**: æ”¯æŒæœåŠ¡å†…å®¹å’Œæè¿°çš„æ›´æ–°

### 4. å¥—é¤åˆ é™¤
**è½¯åˆ é™¤æ”¯æŒ**: å¯æ‰©å±•å®ç°è½¯åˆ é™¤åŠŸèƒ½
**å…³è”æ£€æŸ¥**: åˆ é™¤å‰æ£€æŸ¥æ˜¯å¦æœ‰å…³è”è®¢å•
**æ•°æ®å®Œæ•´æ€§**: ç¡®ä¿åˆ é™¤ä¸å½±å“å†å²è®¢å•æ•°æ®

---

## API æ¥å£è¯¦æƒ…

### ğŸ“‹ æ¥å£åˆ—è¡¨

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ç  |
|------|------|------|--------|
| POST | `/packages` | åˆ›å»ºå¥—é¤ | 201, 400 |
| GET | `/packages` | è·å–æ‰€æœ‰å¥—é¤ | 200, 500 |
| GET | `/packages/:id` | è·å–å¥—é¤è¯¦æƒ… | 200, 404 |
| PATCH | `/packages/:id` | æ›´æ–°å¥—é¤ä¿¡æ¯ | 200, 400, 404 |
| DELETE | `/packages/:id` | åˆ é™¤å¥—é¤ | 200, 404, 409 |

### ğŸ” æ¥å£è¯¦ç»†è¯´æ˜

#### 1. åˆ›å»ºå¥—é¤
```http
POST /packages
Content-Type: application/json

{
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡20å¼ ",
  "price": 899.00,
  "duration": 120,
  "features": ["ä¸“ä¸šæ‘„å½±å¸ˆ", "ç²¾ä¿®20å¼ ", "æœè£…ç§Ÿèµ", "åŒ–å¦†æœåŠ¡"],
  "isActive": true
}
```

**è¯·æ±‚å‚æ•°**:
- `name` (å¿…å¡«): å¥—é¤åç§°
- `description` (å¿…å¡«): å¥—é¤æè¿°
- `price` (å¿…å¡«): å¥—é¤ä»·æ ¼
- `duration` (å¿…å¡«): æœåŠ¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
- `features` (å¯é€‰): å¥—é¤ç‰¹è‰²åˆ—è¡¨
- `isActive` (å¯é€‰): æ˜¯å¦æ¿€æ´»ï¼Œé»˜è®¤true

**å“åº”ç¤ºä¾‹**:
```json
{
  "id": 1,
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡20å¼ ",
  "price": 899.00,
  "duration": 120,
  "features": ["ä¸“ä¸šæ‘„å½±å¸ˆ", "ç²¾ä¿®20å¼ ", "æœè£…ç§Ÿèµ", "åŒ–å¦†æœåŠ¡"],
  "isActive": true,
  "sortOrder": 0,
  "createdAt": "2024-07-25T10:30:00.000Z",
  "updatedAt": "2024-07-25T10:30:00.000Z"
}
```

#### 2. è·å–æ‰€æœ‰å¥—é¤
```http
GET /packages
```

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
    "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡20å¼ ",
    "price": 899.00,
    "duration": 120,
    "features": ["ä¸“ä¸šæ‘„å½±å¸ˆ", "ç²¾ä¿®20å¼ ", "æœè£…ç§Ÿèµ", "åŒ–å¦†æœåŠ¡"],
    "isActive": true,
    "sortOrder": 0,
    "createdAt": "2024-07-25T10:30:00.000Z",
    "updatedAt": "2024-07-25T10:30:00.000Z"
  },
  {
    "id": 2,
    "name": "è±ªåå…¨å®¶ç¦å¥—é¤",
    "description": "å…¨å®¶ç¦æ‘„å½±ï¼ŒåŒ…å«å¤§å°ºå¯¸ç›¸æ¡†å’Œç›¸å†Œ",
    "price": 1299.00,
    "duration": 180,
    "features": ["å…¨å®¶ç¦æ‹æ‘„", "å¤§å°ºå¯¸ç›¸æ¡†", "ç²¾è£…ç›¸å†Œ", "æœè£…ç§Ÿèµ"],
    "isActive": true,
    "sortOrder": 1,
    "createdAt": "2024-07-25T10:35:00.000Z",
    "updatedAt": "2024-07-25T10:35:00.000Z"
  }
]
```

#### 3. è·å–å¥—é¤è¯¦æƒ…
```http
GET /packages/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "id": 1,
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡20å¼ ",
  "price": 899.00,
  "duration": 120,
  "features": ["ä¸“ä¸šæ‘„å½±å¸ˆ", "ç²¾ä¿®20å¼ ", "æœè£…ç§Ÿèµ", "åŒ–å¦†æœåŠ¡"],
  "isActive": true,
  "sortOrder": 0,
  "createdAt": "2024-07-25T10:30:00.000Z",
  "updatedAt": "2024-07-25T10:30:00.000Z"
}
```

#### 4. æ›´æ–°å¥—é¤ä¿¡æ¯
```http
PATCH /packages/1
Content-Type: application/json

{
  "price": 999.00,
  "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡25å¼ ï¼ˆé™æ—¶å‡çº§ï¼‰"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "id": 1,
  "name": "ç»å…¸äº²å­æ‘„å½±å¥—é¤",
  "description": "ä¸“ä¸šæ‘„å½±å¸ˆä¸€å¯¹ä¸€æœåŠ¡ï¼ŒåŒ…å«ç²¾ä¿®ç…§ç‰‡25å¼ ï¼ˆé™æ—¶å‡çº§ï¼‰",
  "price": 999.00,
  "duration": 120,
  "features": ["ä¸“ä¸šæ‘„å½±å¸ˆ", "ç²¾ä¿®20å¼ ", "æœè£…ç§Ÿèµ", "åŒ–å¦†æœåŠ¡"],
  "isActive": true,
  "sortOrder": 0,
  "createdAt": "2024-07-25T10:30:00.000Z",
  "updatedAt": "2024-07-25T11:00:00.000Z"
}
```

#### 5. åˆ é™¤å¥—é¤
```http
DELETE /packages/1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "message": "å¥—é¤åˆ é™¤æˆåŠŸ",
  "deletedId": 1
}
```

### ğŸ§ª API æµ‹è¯•å‚æ•°ç¤ºä¾‹

æœ¬éƒ¨åˆ†æä¾›äº†å¯åœ¨ Swagger UI (`/api/docs`) ä¸­ç›´æ¥ä½¿ç”¨çš„æµ‹è¯•å‚æ•°ã€‚

#### 1. åˆ›å»ºå¥—é¤ (POST /packages)

**ç¤ºä¾‹1: åŸºç¡€å¥—é¤**
```json
{
  "name": "æ–°ç”Ÿå„¿çºªå¿µå¥—é¤",
  "description": "è®°å½•å®å®åˆç”Ÿæ—¶åˆ»çš„çè´µç¬é—´ï¼ŒåŒ…å«10å¼ ç²¾ä¿®ç…§ç‰‡ã€‚",
  "price": 599,
  "duration": 60,
  "features": ["æ–°ç”Ÿå„¿ä¸“å±é“å…·", "å®‰å…¨èˆ’é€‚ç¯å¢ƒ", "ä¸“ä¸šå¼•å¯¼å¸ˆ"],
  "isActive": true,
  "sortOrder": 10
}
```

**ç¤ºä¾‹2: é«˜çº§å¥—é¤**
```json
{
  "name": "ç™¾æ—¥å®´è±ªåå¥—é¤",
  "description": "åº†ç¥å®å®ç™¾æ—¥ï¼Œå…¨å®¶ç¦æ‹æ‘„ï¼Œèµ é€å®šåˆ¶ç›¸å†Œã€‚",
  "price": 1599,
  "duration": 120,
  "features": ["å…¨å®¶ç¦æ‹æ‘„", "å®šåˆ¶ç›¸å†Œ", "å¤šå¥—æœè£…é€ å‹", "åŒ–å¦†æœåŠ¡"],
  "isActive": true,
  "sortOrder": 20
}
```

#### 2. è·å–æ‰€æœ‰å¥—é¤ (GET /packages)

æ­¤æ¥å£æ— éœ€å‚æ•°ã€‚

#### 3. è·å–å¥—é¤è¯¦æƒ… (GET /packages/:id)

- **id**: `1` (è¯·ä½¿ç”¨ä¸€ä¸ªå·²å­˜åœ¨çš„å¥—é¤ID)

#### 4. æ›´æ–°å¥—é¤ä¿¡æ¯ (PATCH /packages/:id)

- **id**: `1` (è¯·ä½¿ç”¨ä¸€ä¸ªå·²å­˜åœ¨çš„å¥—é¤ID)

**è¯·æ±‚ä½“ç¤ºä¾‹:**
```json
{
  "price": 699,
  "description": "è®°å½•å®å®åˆç”Ÿæ—¶åˆ»çš„çè´µç¬é—´ï¼Œå‡çº§åŒ…å«15å¼ ç²¾ä¿®ç…§ç‰‡ã€‚",
  "isActive": false
}
```

#### 5. åˆ é™¤å¥—é¤ (DELETE /packages/:id)

- **id**: `2` (è¯·ä½¿ç”¨ä¸€ä¸ªå·²å­˜åœ¨çš„ã€ä¸”æ²¡æœ‰å…³è”è®¢å•çš„å¥—é¤ID)

---

## æ•°æ®æ¨¡å‹

### ğŸ“Š å¥—é¤æ•°æ®ç»“æ„
```typescript
interface Package {
  id: number;          // ä¸»é”®ID
  name: string;        // å¥—é¤åç§°
  description: string; // å¥—é¤æè¿°
  price: number;       // å¥—é¤ä»·æ ¼
  duration: number;    // æœåŠ¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  features?: string[]; // å¥—é¤ç‰¹è‰²åˆ—è¡¨
  isActive: boolean;   // æ˜¯å¦æ¿€æ´»
  sortOrder: number;   // æ’åºæƒé‡
  createdAt: Date;     // åˆ›å»ºæ—¶é—´
  updatedAt: Date;     // æ›´æ–°æ—¶é—´
  
  // å…³è”å…³ç³»
  orders?: Order[];    // ä½¿ç”¨è¯¥å¥—é¤çš„è®¢å•åˆ—è¡¨
}
```

### ğŸ”— å…³è”å…³ç³»
- **ä¸€å¯¹å¤š**: Package â†’ Order (ä¸€ä¸ªå¥—é¤å¯ä»¥è¢«å¤šä¸ªè®¢å•ä½¿ç”¨)
- **ä¸€å¯¹å¤š**: Package â†’ Payment (é€šè¿‡è®¢å•å…³è”æ”¯ä»˜è®°å½•)
- **ä¸€å¯¹å¤š**: Package â†’ TimeSlot (é€šè¿‡è®¢å•å…³è”æ—¶é—´æ§½)

### ğŸ“ DTO ç»“æ„

#### CreatePackageDto
```typescript
{
  name: string;        // å¿…å¡«ï¼Œå¥—é¤åç§°
  description: string; // å¿…å¡«ï¼Œå¥—é¤æè¿°
  price: number;       // å¿…å¡«ï¼Œå¥—é¤ä»·æ ¼
  duration: number;    // å¿…å¡«ï¼ŒæœåŠ¡æ—¶é•¿
  features?: string[]; // å¯é€‰ï¼Œç‰¹è‰²åˆ—è¡¨
  isActive?: boolean;  // å¯é€‰ï¼Œæ˜¯å¦æ¿€æ´»
  sortOrder?: number;  // å¯é€‰ï¼Œæ’åºæƒé‡
}
```

#### UpdatePackageDto
```typescript
{
  name?: string;       // å¯é€‰ï¼Œå¥—é¤åç§°
  description?: string;// å¯é€‰ï¼Œå¥—é¤æè¿°
  price?: number;      // å¯é€‰ï¼Œå¥—é¤ä»·æ ¼
  duration?: number;   // å¯é€‰ï¼ŒæœåŠ¡æ—¶é•¿
  features?: string[]; // å¯é€‰ï¼Œç‰¹è‰²åˆ—è¡¨
  isActive?: boolean;  // å¯é€‰ï¼Œæ˜¯å¦æ¿€æ´»
  sortOrder?: number;  // å¯é€‰ï¼Œæ’åºæƒé‡
}
```

---

## ä¸šåŠ¡é€»è¾‘

### ğŸ›¡ï¸ æ•°æ®éªŒè¯è§„åˆ™

#### 1. åˆ›å»ºå¥—é¤éªŒè¯
- **name**: å¿…å¡«ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œé•¿åº¦é™åˆ¶1-100å­—ç¬¦
- **description**: å¿…å¡«ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œé•¿åº¦é™åˆ¶1-500å­—ç¬¦
- **price**: å¿…å¡«ï¼Œæ•°å­—ç±»å‹ï¼Œå¿…é¡»å¤§äº0
- **duration**: å¿…å¡«ï¼Œæ•´æ•°ç±»å‹ï¼Œå¿…é¡»å¤§äº0ï¼ˆåˆ†é’Ÿï¼‰
- **features**: å¯é€‰ï¼Œå­—ç¬¦ä¸²æ•°ç»„
- **isActive**: å¯é€‰ï¼Œå¸ƒå°”ç±»å‹ï¼Œé»˜è®¤true
- **sortOrder**: å¯é€‰ï¼Œæ•´æ•°ç±»å‹ï¼Œé»˜è®¤0

#### 2. æ›´æ–°å¥—é¤éªŒè¯
- æ‰€æœ‰å­—æ®µéƒ½æ˜¯å¯é€‰çš„
- å­—æ®µç±»å‹éªŒè¯ä¸åˆ›å»ºæ—¶ç›¸åŒ
- è‡³å°‘éœ€è¦æä¾›ä¸€ä¸ªå­—æ®µè¿›è¡Œæ›´æ–°

#### 3. ä¸šåŠ¡è§„åˆ™
- **ä»·æ ¼ç­–ç•¥**: ä»·æ ¼å¿…é¡»ä¸ºæ­£æ•°ï¼Œæ”¯æŒå°æ•°ç‚¹åä¸¤ä½
- **æ—¶é•¿ç­–ç•¥**: æ—¶é•¿å¿…é¡»ä¸ºæ­£æ•´æ•°ï¼Œå»ºè®®æœ€å°30åˆ†é’Ÿ
- **çŠ¶æ€ç®¡ç†**: ä¸‹æ¶çš„å¥—é¤ä¸èƒ½è¢«æ–°è®¢å•é€‰æ‹©
- **å®Œæ•´æ€§**: åˆ é™¤å¥—é¤å‰éœ€æ£€æŸ¥å…³è”è®¢å•

### ğŸ”„ çŠ¶æ€ç®¡ç†
```typescript
enum PackageStatus {
  ACTIVE = true,    // æ¿€æ´»çŠ¶æ€ï¼Œå¯ä»¥è¢«é€‰æ‹©
  INACTIVE = false  // åœç”¨çŠ¶æ€ï¼Œä¸å¯è¢«é€‰æ‹©
}
```

### ğŸ’° å®šä»·ç­–ç•¥
- **åŸºç¡€å®šä»·**: è®¾å®šå¥—é¤åŸºç¡€ä»·æ ¼
- **ä¿ƒé”€å®šä»·**: å¯é€šè¿‡æ›´æ–°æ¥å£è°ƒæ•´ä¿ƒé”€ä»·æ ¼
- **åŠ¨æ€å®šä»·**: å¯æ‰©å±•å®ç°åŸºäºæ—¶é—´ã€éœ€æ±‚çš„åŠ¨æ€å®šä»·
- **ä¼šå‘˜å®šä»·**: å¯æ‰©å±•å®ç°ä¼šå‘˜ä¼˜æƒ ä»·æ ¼ä½“ç³»

---

## æŠ€æœ¯å®ç°

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **NestJS**: Webæ¡†æ¶å’Œä¾èµ–æ³¨å…¥
- **Prisma**: ORMæ•°æ®åº“è®¿é—®
- **TypeScript**: ç±»å‹å®‰å…¨
- **class-validator**: æ•°æ®éªŒè¯
- **Swagger**: APIæ–‡æ¡£ç”Ÿæˆ

### ğŸ“‹ æœåŠ¡å®ç°
```typescript
@Injectable()
export class PackagesService {
  constructor(private readonly prisma: PrismaService) {}

  async create(createPackageDto: CreatePackageDto): Promise<Package> {
    try {
      return await this.prisma.package.create({
        data: {
          ...createPackageDto,
          sortOrder: createPackageDto.sortOrder || 0,
        },
      });
    } catch (error) {
      throw new BadRequestException(`Failed to create package: ${error.message}`);
    }
  }

  async findAll(): Promise<Package[]> {
    try {
      return await this.prisma.package.findMany({
        orderBy: [
          { sortOrder: 'asc' },
          { createdAt: 'desc' }
        ]
      });
    } catch (error) {
      throw new InternalServerErrorException(`Failed to fetch packages: ${error.message}`);
    }
  }

  async findActive(): Promise<Package[]> {
    return await this.prisma.package.findMany({
      where: { isActive: true },
      orderBy: [
        { sortOrder: 'asc' },
        { createdAt: 'desc' }
      ]
    });
  }
}
```

### ğŸ—„ï¸ æ•°æ®åº“æ“ä½œ

#### åˆ›å»ºå¥—é¤
```typescript
await this.prisma.package.create({
  data: {
    name: dto.name,
    description: dto.description,
    price: dto.price,
    duration: dto.duration,
    features: dto.features || [],
    isActive: dto.isActive ?? true,
    sortOrder: dto.sortOrder || 0,
  },
});
```

#### æŸ¥è¯¢å¥—é¤ï¼ˆåŒ…å«é”€å”®ç»Ÿè®¡ï¼‰
```typescript
await this.prisma.package.findMany({
  include: {
    orders: {
      select: {
        id: true,
        status: true,
        createdAt: true,
      },
    },
    _count: {
      select: {
        orders: true,
      },
    },
  },
});
```

### ğŸš¦ å¼‚å¸¸å¤„ç†
```typescript
// è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†
try {
  return await this.prisma.package.findUnique({ where: { id } });
} catch (error) {
  if (error.code === 'P2025') { // Prismaè®°å½•ä¸å­˜åœ¨
    throw new NotFoundException('å¥—é¤ä¸å­˜åœ¨');
  }
  throw new InternalServerErrorException('æŸ¥è¯¢å¥—é¤å¤±è´¥');
}

// åˆ é™¤å‰å…³è”æ£€æŸ¥
async remove(id: number) {
  const packageWithOrders = await this.prisma.package.findUnique({
    where: { id },
    include: { _count: { select: { orders: true } } }
  });

  if (!packageWithOrders) {
    throw new NotFoundException('å¥—é¤ä¸å­˜åœ¨');
  }

  if (packageWithOrders._count.orders > 0) {
    throw new ConflictException('å¥—é¤å·²è¢«ä½¿ç”¨ï¼Œæ— æ³•åˆ é™¤');
  }

  return await this.prisma.package.delete({ where: { id } });
}
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ğŸ¯ å‰ç«¯é›†æˆç¤ºä¾‹

#### å¾®ä¿¡å°ç¨‹åºå¥—é¤å±•ç¤º
```javascript
// è·å–å¥—é¤åˆ—è¡¨
Page({
  data: {
    packages: [],
    loading: true
  },

  onLoad() {
    this.loadPackages();
  },

  async loadPackages() {
    try {
      const res = await wx.request({
        url: 'https://api.example.com/packages',
        method: 'GET'
      });

      this.setData({
        packages: res.data.filter(pkg => pkg.isActive),
        loading: false
      });
    } catch (error) {
      wx.showToast({
        title: 'åŠ è½½å¤±è´¥',
        icon: 'error'
      });
    }
  },

  selectPackage(e) {
    const packageId = e.currentTarget.dataset.id;
    const selectedPackage = this.data.packages.find(pkg => pkg.id === packageId);
    
    // ä¿å­˜é€‰ä¸­çš„å¥—é¤ä¿¡æ¯
    wx.setStorageSync('selectedPackage', selectedPackage);
    
    // è·³è½¬åˆ°é¢„çº¦é¡µé¢
    wx.navigateTo({
      url: `/pages/booking/booking?packageId=${packageId}`
    });
  }
});
```

```html
<!-- å¥—é¤å±•ç¤ºé¡µé¢ -->
<view class="packages-container">
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
  
  <view wx:else class="packages-list">
    <view 
      wx:for="{{packages}}" 
      wx:key="id" 
      class="package-item"
      data-id="{{item.id}}"
      bindtap="selectPackage"
    >
      <view class="package-header">
        <text class="package-name">{{item.name}}</text>
        <text class="package-price">Â¥{{item.price}}</text>
      </view>
      
      <view class="package-description">{{item.description}}</view>
      
      <view class="package-duration">æ‹æ‘„æ—¶é•¿ï¼š{{item.duration}}åˆ†é’Ÿ</view>
      
      <view class="package-features">
        <text 
          wx:for="{{item.features}}" 
          wx:key="index" 
          class="feature-tag"
        >
          {{item}}
        </text>
      </view>
    </view>
  </view>
</view>
```

#### React å¥—é¤ç®¡ç†ç»„ä»¶
```typescript
// å¥—é¤æœåŠ¡ç±»
class PackageService {
  private baseURL = '/api/packages';

  async getAllPackages(): Promise<Package[]> {
    const response = await fetch(this.baseURL);
    if (!response.ok) throw new Error('è·å–å¥—é¤åˆ—è¡¨å¤±è´¥');
    return response.json();
  }

  async createPackage(packageData: CreatePackageDto): Promise<Package> {
    const response = await fetch(this.baseURL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(packageData),
    });
    if (!response.ok) throw new Error('åˆ›å»ºå¥—é¤å¤±è´¥');
    return response.json();
  }

  async updatePackage(id: number, updateData: UpdatePackageDto): Promise<Package> {
    const response = await fetch(`${this.baseURL}/${id}`, {
      method: 'PATCH',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(updateData),
    });
    if (!response.ok) throw new Error('æ›´æ–°å¥—é¤å¤±è´¥');
    return response.json();
  }

  async deletePackage(id: number): Promise<void> {
    const response = await fetch(`${this.baseURL}/${id}`, {
      method: 'DELETE',
    });
    if (!response.ok) throw new Error('åˆ é™¤å¥—é¤å¤±è´¥');
  }
}

// React Hook
function usePackages() {
  const [packages, setPackages] = useState<Package[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  const packageService = new PackageService();

  const fetchPackages = useCallback(async () => {
    setLoading(true);
    setError(null);
    
    try {
      const data = await packageService.getAllPackages();
      setPackages(data);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'è·å–å¥—é¤å¤±è´¥');
    } finally {
      setLoading(false);
    }
  }, []);

  useEffect(() => {
    fetchPackages();
  }, [fetchPackages]);

  const createPackage = async (packageData: CreatePackageDto) => {
    try {
      const newPackage = await packageService.createPackage(packageData);
      setPackages(prev => [...prev, newPackage]);
      return newPackage;
    } catch (err) {
      setError(err instanceof Error ? err.message : 'åˆ›å»ºå¤±è´¥');
      throw err;
    }
  };

  const updatePackage = async (id: number, updateData: UpdatePackageDto) => {
    try {
      const updatedPackage = await packageService.updatePackage(id, updateData);
      setPackages(prev => prev.map(pkg => 
        pkg.id === id ? updatedPackage : pkg
      ));
      return updatedPackage;
    } catch (err) {
      setError(err instanceof Error ? err.message : 'æ›´æ–°å¤±è´¥');
      throw err;
    }
  };

  const deletePackage = async (id: number) => {
    try {
      await packageService.deletePackage(id);
      setPackages(prev => prev.filter(pkg => pkg.id !== id));
    } catch (err) {
      setError(err instanceof Error ? err.message : 'åˆ é™¤å¤±è´¥');
      throw err;
    }
  };

  return {
    packages,
    loading,
    error,
    createPackage,
    updatePackage,
    deletePackage,
    refetch: fetchPackages,
  };
}

// å¥—é¤ç®¡ç†ç»„ä»¶
function PackageManagement() {
  const { packages, loading, error, createPackage, updatePackage, deletePackage } = usePackages();
  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);
  const [editingPackage, setEditingPackage] = useState<Package | null>(null);

  const handleCreate = async (packageData: CreatePackageDto) => {
    try {
      await createPackage(packageData);
      setIsCreateModalOpen(false);
      alert('å¥—é¤åˆ›å»ºæˆåŠŸ');
    } catch (error) {
      alert('åˆ›å»ºå¤±è´¥');
    }
  };

  const handleUpdate = async (updateData: UpdatePackageDto) => {
    if (!editingPackage) return;
    
    try {
      await updatePackage(editingPackage.id, updateData);
      setEditingPackage(null);
      alert('å¥—é¤æ›´æ–°æˆåŠŸ');
    } catch (error) {
      alert('æ›´æ–°å¤±è´¥');
    }
  };

  const handleDelete = async (id: number) => {
    if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¥—é¤å—ï¼Ÿ')) return;
    
    try {
      await deletePackage(id);
      alert('å¥—é¤åˆ é™¤æˆåŠŸ');
    } catch (error) {
      alert('åˆ é™¤å¤±è´¥');
    }
  };

  if (loading) return <div>åŠ è½½ä¸­...</div>;
  if (error) return <div>é”™è¯¯: {error}</div>;

  return (
    <div>
      <div className="header">
        <h1>å¥—é¤ç®¡ç†</h1>
        <button onClick={() => setIsCreateModalOpen(true)}>
          æ–°å¢å¥—é¤
        </button>
      </div>

      <div className="packages-grid">
        {packages.map(pkg => (
          <div key={pkg.id} className="package-card">
            <div className="package-header">
              <h3>{pkg.name}</h3>
              <span className="price">Â¥{pkg.price}</span>
            </div>
            
            <p className="description">{pkg.description}</p>
            
            <div className="package-info">
              <span>æ—¶é•¿: {pkg.duration}åˆ†é’Ÿ</span>
              <span className={`status ${pkg.isActive ? 'active' : 'inactive'}`}>
                {pkg.isActive ? 'å·²ä¸Šæ¶' : 'å·²ä¸‹æ¶'}
              </span>
            </div>

            <div className="features">
              {pkg.features?.map((feature, index) => (
                <span key={index} className="feature-tag">{feature}</span>
              ))}
            </div>

            <div className="actions">
              <button onClick={() => setEditingPackage(pkg)}>ç¼–è¾‘</button>
              <button 
                onClick={() => handleDelete(pkg.id)}
                className="delete-btn"
              >
                åˆ é™¤
              </button>
            </div>
          </div>
        ))}
      </div>

      {/* åˆ›å»º/ç¼–è¾‘æ¨¡æ€æ¡†ç»„ä»¶ */}
      <PackageModal
        isOpen={isCreateModalOpen || !!editingPackage}
        package={editingPackage}
        onSubmit={editingPackage ? handleUpdate : handleCreate}
        onClose={() => {
          setIsCreateModalOpen(false);
          setEditingPackage(null);
        }}
      />
    </div>
  );
}
```

---

## è¿è¥ç®¡ç†

### ğŸ“Š å¥—é¤é”€å”®åˆ†æ
```typescript
// é”€å”®ç»Ÿè®¡æœåŠ¡
class PackageAnalyticsService {
  async getPackageStats(startDate: string, endDate: string) {
    const packages = await this.prisma.package.findMany({
      include: {
        orders: {
          where: {
            createdAt: {
              gte: new Date(startDate),
              lte: new Date(endDate),
            },
            status: 'COMPLETED',
          },
        },
      },
    });

    return packages.map(pkg => ({
      id: pkg.id,
      name: pkg.name,
      price: pkg.price,
      totalOrders: pkg.orders.length,
      totalRevenue: pkg.orders.length * pkg.price,
      averageOrdersPerDay: pkg.orders.length / this.getDaysBetween(startDate, endDate),
    }));
  }

  async getTopPackages(limit = 5) {
    return await this.prisma.package.findMany({
      include: {
        _count: {
          select: { orders: true },
        },
      },
      orderBy: {
        orders: {
          _count: 'desc',
        },
      },
      take: limit,
    });
  }
}

// å¥—é¤è¡¨ç°åˆ†æç»„ä»¶
function PackageAnalytics() {
  const [stats, setStats] = useState([]);
  const [topPackages, setTopPackages] = useState([]);
  const [dateRange, setDateRange] = useState({
    start: format(subDays(new Date(), 30), 'yyyy-MM-dd'),
    end: format(new Date(), 'yyyy-MM-dd'),
  });

  const analyticsService = new PackageAnalyticsService();

  useEffect(() => {
    Promise.all([
      analyticsService.getPackageStats(dateRange.start, dateRange.end),
      analyticsService.getTopPackages(),
    ]).then(([statsData, topData]) => {
      setStats(statsData);
      setTopPackages(topData);
    });
  }, [dateRange]);

  return (
    <div>
      <h2>å¥—é¤é”€å”®åˆ†æ</h2>
      
      <div className="date-picker">
        <input
          type="date"
          value={dateRange.start}
          onChange={(e) => setDateRange({...dateRange, start: e.target.value})}
        />
        <input
          type="date"
          value={dateRange.end}
          onChange={(e) => setDateRange({...dateRange, end: e.target.value})}
        />
      </div>

      <div className="stats-grid">
        {stats.map(stat => (
          <div key={stat.id} className="stat-card">
            <h3>{stat.name}</h3>
            <div className="stat-row">
              <span>è®¢å•æ•°é‡:</span>
              <span>{stat.totalOrders}</span>
            </div>
            <div className="stat-row">
              <span>æ€»æ”¶å…¥:</span>
              <span>Â¥{stat.totalRevenue}</span>
            </div>
            <div className="stat-row">
              <span>æ—¥å‡è®¢å•:</span>
              <span>{stat.averageOrdersPerDay.toFixed(1)}</span>
            </div>
          </div>
        ))}
      </div>

      <div className="top-packages">
        <h3>æœ€å—æ¬¢è¿å¥—é¤</h3>
        {topPackages.map((pkg, index) => (
          <div key={pkg.id} className="top-package-item">
            <span className="rank">#{index + 1}</span>
            <span className="name">{pkg.name}</span>
            <span className="orders">{pkg._count.orders} è®¢å•</span>
          </div>
        ))}
      </div>
    </div>
  );
}
```

### ğŸ·ï¸ ä¿ƒé”€æ´»åŠ¨ç®¡ç†
```typescript
// ä¿ƒé”€æ´»åŠ¨æ‰©å±•
interface PackagePromotion {
  id: number;
  packageId: number;
  title: string;
  discountType: 'PERCENTAGE' | 'FIXED_AMOUNT';
  discountValue: number;
  startDate: Date;
  endDate: Date;
  isActive: boolean;
}

// ä¿ƒé”€ä»·æ ¼è®¡ç®—
function calculatePromotionPrice(originalPrice: number, promotion: PackagePromotion): number {
  if (!promotion.isActive) return originalPrice;
  
  const now = new Date();
  if (now < promotion.startDate || now > promotion.endDate) {
    return originalPrice;
  }
  
  if (promotion.discountType === 'PERCENTAGE') {
    return originalPrice * (1 - promotion.discountValue / 100);
  } else {
    return Math.max(0, originalPrice - promotion.discountValue);
  }
}

// å¸¦ä¿ƒé”€ä¿¡æ¯çš„å¥—é¤æŸ¥è¯¢
async function getPackagesWithPromotions() {
  const packages = await this.prisma.package.findMany({
    include: {
      promotions: {
        where: {
          isActive: true,
          startDate: { lte: new Date() },
          endDate: { gte: new Date() },
        },
      },
    },
  });

  return packages.map(pkg => ({
    ...pkg,
    originalPrice: pkg.price,
    currentPrice: pkg.promotions.length > 0 
      ? calculatePromotionPrice(pkg.price, pkg.promotions[0])
      : pkg.price,
    hasPromotion: pkg.promotions.length > 0,
  }));
}
```

---

## å¸¸è§é—®é¢˜

### â“ FAQ

#### Q1: å¦‚ä½•å®ç°å¥—é¤çš„åˆ†ç±»ç®¡ç†ï¼Ÿ
**A**: å¯ä»¥æ‰©å±•Packageæ¨¡å‹æ·»åŠ categoryå­—æ®µï¼Œå®ç°å¥—é¤åˆ†ç±»ã€‚

```typescript
// æ‰©å±•Prismaæ¨¡å‹
model Package {
  id          Int      @id @default(autoincrement())
  name        String
  description String
  price       Float
  duration    Int
  categoryId  Int?     // åˆ†ç±»ID
  category    Category? @relation(fields: [categoryId], references: [id])
  // ... å…¶ä»–å­—æ®µ
}

model Category {
  id       Int       @id @default(autoincrement())
  name     String
  packages Package[]
}

// æŒ‰åˆ†ç±»æŸ¥è¯¢å¥—é¤
async findByCategory(categoryId: number) {
  return await this.prisma.package.findMany({
    where: { categoryId },
    include: { category: true }
  });
}
```

#### Q2: å¦‚ä½•å®ç°å¥—é¤çš„åº“å­˜ç®¡ç†ï¼Ÿ
**A**: å¯ä»¥æ·»åŠ åº“å­˜å­—æ®µï¼Œé™åˆ¶åŒæ—¶é¢„çº¦çš„æ•°é‡ã€‚

```typescript
// æ‰©å±•å¥—é¤æ¨¡å‹
model Package {
  // ... ç°æœ‰å­—æ®µ
  stockLimit    Int?     // åº“å­˜é™åˆ¶ï¼ˆnullè¡¨ç¤ºæ— é™åˆ¶ï¼‰
  currentStock  Int      @default(0) // å½“å‰åº“å­˜
}

// æ£€æŸ¥åº“å­˜å¯ç”¨æ€§
async checkStockAvailability(packageId: number, date: string): Promise<boolean> {
  const package = await this.prisma.package.findUnique({
    where: { id: packageId },
    include: {
      orders: {
        where: {
          timeSlot: {
            date: new Date(date)
          },
          status: { in: ['PENDING', 'CONFIRMED'] }
        }
      }
    }
  });

  if (!package.stockLimit) return true; // æ— åº“å­˜é™åˆ¶
  
  const bookedCount = package.orders.length;
  return bookedCount < package.stockLimit;
}
```

#### Q3: å¦‚ä½•å®ç°å¥—é¤çš„å¤šè§„æ ¼æ”¯æŒï¼Ÿ
**A**: å¯ä»¥åˆ›å»ºå¥—é¤å˜ä½“ï¼ˆPackageVariantï¼‰æ¨¡å‹ã€‚

```typescript
model Package {
  id       Int              @id @default(autoincrement())
  name     String
  // ... åŸºç¡€å­—æ®µ
  variants PackageVariant[]
}

model PackageVariant {
  id        Int     @id @default(autoincrement())
  packageId Int
  name      String  // è§„æ ¼åç§°ï¼Œå¦‚"åŸºç¡€ç‰ˆ"ã€"è±ªåç‰ˆ"
  price     Float   // è¯¥è§„æ ¼çš„ä»·æ ¼
  duration  Int     // è¯¥è§„æ ¼çš„æ—¶é•¿
  features  String[] // è¯¥è§„æ ¼çš„ç‰¹è‰²
  package   Package @relation(fields: [packageId], references: [id])
}
```

#### Q4: å¦‚ä½•å®ç°å¥—é¤çš„å­£èŠ‚æ€§å®šä»·ï¼Ÿ
**A**: å¯ä»¥æ·»åŠ å®šä»·è§„åˆ™è¡¨ï¼Œæ ¹æ®æ—¶é—´æ®µè°ƒæ•´ä»·æ ¼ã€‚

```typescript
model PricingRule {
  id          Int      @id @default(autoincrement())
  packageId   Int
  startDate   DateTime
  endDate     DateTime
  priceType   String   // 'PERCENTAGE' | 'FIXED_AMOUNT'
  priceValue  Float    // è°ƒæ•´å€¼
  isActive    Boolean  @default(true)
  package     Package  @relation(fields: [packageId], references: [id])
}

// è®¡ç®—åŠ¨æ€ä»·æ ¼
async calculateDynamicPrice(packageId: number, date: Date): Promise<number> {
  const package = await this.prisma.package.findUnique({
    where: { id: packageId },
    include: {
      pricingRules: {
        where: {
          isActive: true,
          startDate: { lte: date },
          endDate: { gte: date }
        }
      }
    }
  });

  let finalPrice = package.price;
  
  package.pricingRules.forEach(rule => {
    if (rule.priceType === 'PERCENTAGE') {
      finalPrice *= (1 + rule.priceValue / 100);
    } else {
      finalPrice += rule.priceValue;
    }
  });

  return Math.max(0, finalPrice);
}
```

#### Q5: å¦‚ä½•å®ç°å¥—é¤çš„ç»„åˆä¼˜æƒ ï¼Ÿ
**A**: å¯ä»¥åˆ›å»ºå¥—é¤ç»„åˆè¡¨ï¼Œå®šä¹‰ç»„åˆä¼˜æƒ è§„åˆ™ã€‚

```typescript
model PackageCombo {
  id          Int     @id @default(autoincrement())
  name        String
  packageIds  Int[]   // ç»„åˆçš„å¥—é¤IDåˆ—è¡¨
  discountType String // 'PERCENTAGE' | 'FIXED_AMOUNT'
  discountValue Float
  isActive    Boolean @default(true)
}

// è®¡ç®—ç»„åˆä¼˜æƒ ä»·æ ¼
async function calculateComboPrice(packageIds: number[]): Promise<ComboResult> {
  const packages = await this.prisma.package.findMany({
    where: { id: { in: packageIds } }
  });

  const originalTotal = packages.reduce((sum, pkg) => sum + pkg.price, 0);

  const combo = await this.prisma.packageCombo.findFirst({
    where: {
      isActive: true,
      packageIds: { hasEvery: packageIds }
    }
  });

  if (!combo) {
    return { originalPrice: originalTotal, finalPrice: originalTotal, savings: 0 };
  }

  let finalPrice = originalTotal;
  if (combo.discountType === 'PERCENTAGE') {
    finalPrice = originalTotal * (1 - combo.discountValue / 100);
  } else {
    finalPrice = originalTotal - combo.discountValue;
  }

  return {
    originalPrice: originalTotal,
    finalPrice: Math.max(0, finalPrice),
    savings: originalTotal - finalPrice,
    comboName: combo.name
  };
}
```

### ğŸ› æ•…éšœæ’é™¤

#### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

1. **å¥—é¤åˆ›å»ºå¤±è´¥**
   ```
   é”™è¯¯: Failed to create package: Invalid price value
   è§£å†³: æ£€æŸ¥ä»·æ ¼æ˜¯å¦ä¸ºæ­£æ•°ï¼Œç¡®ä¿æ•°æ®ç±»å‹æ­£ç¡®
   ```

2. **å¥—é¤ä¸å­˜åœ¨**
   ```
   é”™è¯¯: Package with id 1 not found
   è§£å†³: æ£€æŸ¥å¥—é¤IDæ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤å¥—é¤æœªè¢«åˆ é™¤
   ```

3. **åˆ é™¤å¤±è´¥**
   ```
   é”™è¯¯: å¥—é¤å·²è¢«ä½¿ç”¨ï¼Œæ— æ³•åˆ é™¤
   è§£å†³: æ£€æŸ¥æ˜¯å¦æœ‰å…³è”è®¢å•ï¼Œè€ƒè™‘ä½¿ç”¨è½¯åˆ é™¤æˆ–åœç”¨åŠŸèƒ½
   ```

---

## æ€»ç»“

å¥—é¤æ¨¡å—æ˜¯ä¸šåŠ¡ç³»ç»Ÿçš„æ ¸å¿ƒäº§å“ç®¡ç†æ¨¡å—ï¼Œæä¾›äº†ï¼š

âœ… **å®Œæ•´çš„å¥—é¤ç®¡ç†**: ä»åˆ›å»ºåˆ°åˆ é™¤çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†  
âœ… **çµæ´»çš„å®šä»·ç­–ç•¥**: æ”¯æŒå¤šç§å®šä»·å’Œä¿ƒé”€æœºåˆ¶  
âœ… **ä¸°å¯Œçš„æ‰©å±•æ€§**: æ”¯æŒåˆ†ç±»ã€è§„æ ¼ã€åº“å­˜ç­‰é«˜çº§åŠŸèƒ½  
âœ… **æ•°æ®é©±åŠ¨å†³ç­–**: æä¾›è¯¦ç»†çš„é”€å”®åˆ†æå’Œç»Ÿè®¡åŠŸèƒ½  
âœ… **ç”¨æˆ·å‹å¥½ç•Œé¢**: å®Œæ•´çš„å‰ç«¯é›†æˆç¤ºä¾‹å’Œæœ€ä½³å®è·µ  
âœ… **è¿è¥ç®¡ç†æ”¯æŒ**: ä¿ƒé”€æ´»åŠ¨ã€åº“å­˜ç®¡ç†ç­‰è¿è¥å·¥å…·  

è¯¥æ¨¡å—ä¸ºå©´å„¿æ‘„å½±å·¥ä½œå®¤æä¾›äº†ä¸“ä¸šã€çµæ´»çš„äº§å“ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå„ç§ä¸šåŠ¡åœºæ™¯å’Œè¿è¥éœ€æ±‚ã€‚

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0.0*  
*æœ€åæ›´æ–°: 2024å¹´7æœˆ25æ—¥*  
*ç»´æŠ¤è€…: å¼€å‘å›¢é˜Ÿ*
